class t{constructor(){this._list={},this._interceptors=[]}on(t,i){if(!t||"string"!=typeof t)throw new Error("Invalid event identifier");if(!i||"function"!=typeof i)throw new Error("Invalid handler");if("*"===t){const t=this._interceptors.push(i)-1;return()=>this._interceptors.splice(t,1)}this._list[t]||(this._list[t]=[]);const n=this._list[t].push(i)-1;return()=>this._list[t].splice(n,1)}emit(t,i){if(!t||"string"!=typeof t)throw new Error("Invalid event identifier");this._list[t]&&[...this._interceptors,...this._list[t]].forEach(t=>t(i))}listHandlers(t){return this._list[t]}remove(t){delete this._list[t]}get interceptors(){return this._interceptors.map(t=>({interceptor:t}))}get events(){return Object.keys(this._list).map(t=>this._list[t])}get all(){return[...this.interceptors,...this.events]}}module.exports=t;