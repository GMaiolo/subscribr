class t{constructor(){this._list={},this._interceptors=[]}on(t,i){if(!t||"string"!=typeof t)throw new Error("Invalid event identifier");if(!i||"function"!=typeof i)throw new Error("Invalid handler");if("*"===t){const t=this._interceptors.push(i)-1;return()=>this._interceptors.splice(t)}this._list[t]||(this._list[t]=[]);const n=this._list[t].push(i)-1;return()=>this._list[t].splice(n)}emit(t,i){if(!t||"string"!=typeof t)throw new Error("Invalid event identifier");[...this._interceptors,...this._list[t]].forEach(t=>t(i))}list(t){return t?this._list[t]:this._list}remove(t){delete this._list[t]}get interceptors(){return this._interceptors}get allEvents(){return this._list}}module.exports=t;